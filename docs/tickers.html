<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multi Quote Banner</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;padding:12px;font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#fff}
h1{margin:0 0 12px;font-size:16px;font-weight:600}
.controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.controls input,.controls select,.controls button{font-size:12px;padding:4px 8px;border:1px solid #d0d4d9;border-radius:4px;background:#fff}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:10px}
.quote-item{border:1px solid #e1e5e9;border-radius:8px;padding:4px;background:#f8f9fa}
.footer{margin-top:14px;font-size:11px;color:#888;text-align:center}
</style>
</head>
<body>
<h1>TradingView Single Quote Banner</h1>
<div class="controls">
  <select id="colorTheme">
    <option value="light">Light</option>
    <option value="dark">Dark</option>
  </select>
  <input id="addSymbol" placeholder="EXCHANGE:SYMBOL">
  <button id="addBtn">Add</button>
</div>
<div id="grid" class="grid"></div>
<div class="footer">Use query params: ?theme=dark&list=NASDAQ:AAPL,NYSE:IBM,COINBASE:BTCUSD</div>
<script>
const defaultList = ["NYSE:RTX","NYSE:NOC","NASDAQ:RKLB","NYSE:HIMS","COINBASE:BTCUSD","FX_IDC:EURUSD"];
let symbols = [];
function parseQuery(){
  const p = new URLSearchParams(location.search);
  if(p.get('theme')) document.getElementById('colorTheme').value = p.get('theme');
  symbols = p.get('list')
    ? p.get('list').split(',').map(s=>s.trim()).filter(Boolean)
    : defaultList.slice();
}
function buildWidgetHTML(symbol, theme){
  return `
  <div class="quote-item">
    <div class="tradingview-widget-container">
      <div class="tradingview-widget-container__widget"></div>
      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js" async>
      {
        "symbol": "${symbol}",
        "colorTheme": "${theme}",
        "isTransparent": false,
        "locale": "en",
        "width": 160
      }
      </script>
    </div>
  </div>`;
}
function render(){
  const theme = document.getElementById('colorTheme').value;
  const grid = document.getElementById('grid');
  grid.innerHTML = symbols.map(s => buildWidgetHTML(s, theme)).join('');
}
document.getElementById('colorTheme').addEventListener('change', render);
document.getElementById('addBtn').addEventListener('click', () => {
  const val = document.getElementById('addSymbol').value.trim();
  if(!val.includes(':')) return;
  symbols.push(val);
  document.getElementById('addSymbol').value='';
  render();
});
parseQuery();
render();
</script>
</body>
</html>